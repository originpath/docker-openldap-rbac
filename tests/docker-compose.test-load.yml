version: '3.2'

services:
  ldap:
    volumes:
      - ./testLoad/limitNumberOfResults.ldif:/container/service/slapd/assets/config/bootstrap/ldif/custom/03-limitNumberOfResults.ldif
  sut:
    container_name: ldap-test-runner
    image: ubuntu:latest
    volumes:
      - ./base/groups.ldif:/groups.ldif:ro
      - ./startup.sh:/startup.sh
      - ./installBase.sh:/installBase.sh
      - ./names.txt:/names.txt:ro
      - ./surnames.txt:/surnames.txt:ro
      - ./generateUserLdif.sh:/generateUserLdif.sh:ro
      - ./generateUsersInGroupLdif.sh:/generateUsersInGroupLdif.sh:ro
      - ./testLoad/test.sh:/test.sh
      - ./testLoad/roles.ldif:/roles.ldif
      - ./testLoad/users-in-groups.ldif:/users-in-groups.ldif
    entrypoint: /startup.sh
